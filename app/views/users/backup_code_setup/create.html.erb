<% title t('forms.backup_code.title') %>

<h1 class="h3 margin-y-0 margin-top-0">
  <%= t('forms.backup_code.subtitle') %>
</h1>

<%= t('users.backup_code.generated_on_html',
      date: content_tag(:strong, I18n.l(Time.zone.today, format: '%B %d, %Y'))) %>

<br/>
<br/>

<div class="inline-block margin-bottom-4">
  <%= t('forms.backup_code.subinfo_html') %>
</div>

<div class="margin-bottom-6">
  <table>
    <tr>
      <td class="padding-0">
        <code class="bold h2">
          <% @codes[0..@codes.length / 2 - 1].each do |code| %>
            <%= code.upcase.insert(8, '-').insert(4, '-') %>
            <br/>
            <br/>
          <% end %>
        </code>
      </td>
      <td>
        <code class="bold h2">
          <% @codes[@codes.length / 2..-1].each do |code| %>
            <%= code.upcase.insert(8, '-').insert(4, '-') %>
            <br/>
            <br/>
          <% end %>
        </code>
      </td>
    </tr>
  </table>
  <div class="margin-top-0">
    <% if desktop_device? %>
      <%= link_to t('forms.backup_code.download'), backup_code_download_path,
                  class: 'usa-button usa-button--outline ico ico-download' %>
    <% end %>
    <%= link_to t('forms.backup_code.print'), '#',
                data: { print: true },
                class: 'usa-button usa-button--outline margin-left-2 ico ico-print' -%>
    <%= link_to t('links.copy'), '#',
                class: 'usa-button usa-button--outline margin-left-2 clipboard ico ico-copy',
                data: { "clipboard-text": @codes.join(' ') } -%>
  </div>
</div>

<%= form_tag(backup_code_continue_path, method: :patch, role: 'form') do %>
  <div class="clearfix margin-x-neg-1">
    <div class="col col-6 sm-col-5 padding-x-1">
      <%= button_tag t('forms.buttons.continue'), type: 'submit', class: 'usa-button usa-button--big usa-button--wide' %>
    </div>
  </div>
<% end %>

<%= javascript_packs_tag_once 'clipboard' %>
