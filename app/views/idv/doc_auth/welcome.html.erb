<% title t('titles.doc_auth.verify') %>

<% step = 0 %>
<% if flow_session[:error_message] %>
  <%= render 'shared/alert', {
      type: 'error',
      class: 'margin-bottom-4',
      message: flow_session[:error_message],
  } %>
<% end %>

<%= render 'shared/maintenance_window_alert' do %>
  <h1><%= t('doc_auth.headings.welcome') %></h1>
  <p class='mt-tiny margin-bottom-0'><%= t('doc_auth.info.welcome') %></p>
  <h2 class='margin-bottom-0'><%= t('doc_auth.instructions.welcome') %></h2>

  <ul class='list-reset'>
    <li class='padding-top-2 padding-bottom-1'>
      <div class='inline-block margin-right-2 margin-top-1 text-top circle circle-number bg-blue white'>
        <%= step += 1 %>
      </div>
      <div class='margin-right-1 inline-block'>
        <div class='h1 inline-block bold'>
          <%= t('doc_auth.instructions.bullet1') %>
        </div>
        <br/>
        <div>
          <%= t('doc_auth.instructions.text1') %>
        </div>
      </div>
    </li>
    <% if liveness_checking_enabled? %>
      <li class='padding-top-2 padding-bottom-1'>
        <div class='inline-block margin-right-2 margin-top-1 text-top circle circle-number bg-blue white'>
          <%= step += 1 %>
        </div>
        <div class='margin-right-1 inline-block'>
          <div class='h1 inline-block bold'>
            <%= t('doc_auth.instructions.bullet1a') %>
          </div>
          <br/>
          <div>
            <%= t('doc_auth.instructions.text1a') %>
          </div>
        </div>
      </li>
    <% end %>
    <li class='padding-top-2 padding-bottom-1'>
      <div class='inline-block margin-right-2 margin-top-1 text-top circle circle-number bg-blue white'>
        <%= step += 1 %>
      </div>
      <div class='margin-right-1 inline-block'>
        <div class='h1 inline-block bold'>
          <%= t('doc_auth.instructions.bullet2') %>
        </div>
        <br/>
        <div>
          <%= t('doc_auth.instructions.text2')  %>
        </div>
      </div>
    </li>
    <li class='padding-top-2 padding-bottom-1'>
      <div class='inline-block margin-right-2 margin-top-1 text-top circle circle-number bg-blue white'>
        <%= step += 1 %>
      </div>
      <div class='margin-right-1 inline-block'>
        <div class='h1 inline-block bold'>
          <%= t('doc_auth.instructions.bullet3') %>
        </div>
        <br/>
        <div>
          <%= t('doc_auth.instructions.text3') %>
        </div>
      </div>
    </li>
  </ul>

  <h2 class='margin-bottom-0'><%= t('doc_auth.instructions.privacy') %></h2>
  <p><%= t('doc_auth.info.privacy') %></p>

  <%= validated_form_for :doc_auth,
                         url: url_for,
                         method: 'put',
                         html: { autocomplete: 'off', role: 'form', class: 'margin-top-2 js-consent-continue-form' } do |f| %>
    <br/>
    <%= f.button :button, t('doc_auth.buttons.continue'), type: :submit,
                 class: 'btn btn-primary btn-wide sm-col-6 col-6' %>
  <% end %>

  <br/>


  <% if user_fully_authenticated? %>
    <%= render 'shared/cancel', link: idv_cancel_path %>
  <% else %>
    <div class='margin-top-2 padding-top-1 border-top'>
      <%= link_to(t('two_factor_authentication.choose_another_option'), two_factor_options_path) %>
    </div>
  <% end %>

<% end %>
