<%#
Renders a "Back" link to return to a previous step, given by one of action, step, or path local
variables. Exactly one of these locals must be provided.

locals:
* action: (Optional) Flow action to call to return to the previous step.
* step: (Optional) Name of step to which user should be returned.
* path: (Optional) Path to which user should navigate.
%>
<%
if [:action, :step, :path].all? { |key| !local_assigns[key] }
  raise 'must pass one of action, step, or path'
end

text = 'â€¹ ' + t('forms.buttons.back')
step = local_assigns[:action] || local_assigns[:step]
path = local_assigns[:path] || idv_doc_auth_step_path(step: step)
%>
<div class="margin-top-5 padding-top-2 border-top border-primary-light">
  <% if local_assigns[:action] %>
    <%= button_to(
      text,
      path,
      method: :put,
      class: 'btn btn-link'
    ) %>
  <% else %>
    <%= link_to(text, path) %>
  <% end %>
</div>
