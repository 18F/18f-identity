## Welcome!

We're so glad you're thinking about contributing to an 18F open source project!
If you're unsure about anything, just ask — or submit the issue or pull request
anyway. The worst that can happen is you'll be politely asked to change
something. We love all friendly contributions.

We want to ensure a welcoming environment for all of our projects. Our staff
follow the [18F Code of Conduct][code] and all contributors should do the same.

We encourage you to read this project's CONTRIBUTING policy (you are here), its
[LICENSE](LICENSE.md), and its [README](README.md).

If you have any questions or want to read more, check out the
[18F Open Source Policy GitHub repository][os-policy], or just
[shoot us an email](mailto:18f@gsa.gov).

[code]: https://github.com/18F/code-of-conduct/blob/master/code-of-conduct.md
[os-policy]: https://github.com/18f/open-source-policy

## Pull request guidelines

Please follow our [Git Protocol][git] and [Code Review][review] guidelines.
[Glen Sanford's thoughts on code reviews][thoughts] are also well worth
reading.

[git]: https://github.com/18F/development-guide/tree/master/git_protocol
[review]: https://github.com/18F/development-guide/tree/master/code_review
[thoughts]: http://glen.nu/ramblings/oncodereview.php

### Commit message style guide:

- Write your commit message summary in the imperative: "Fix bug" and not
"Fixed bug" or "Fixes bug."  This convention matches up with commit messages
generated by commands like `git merge` and `git revert`.

- Under the summary, start by explaining why this change is necessary, and
add details to help the person reviewing your code understand what your
pull request is about.

- If the pull request fixes a GitHub issue, mention it at the bottom using
GitHub's syntax, such as `Fixes #123`.

Example:

```
Load seed using before(:suite) in RSpec config

**Why**:
- Loading the seed in a `before(:each)` block results in an unnecessary
database call before every single test, slowing down the test suite,
and making development less efficient.

**How**:
- Use `before(:suite)` instead, since the data that is loaded is not
meant to change, and so that only one database call is made.
- To prevent the data from being wiped out after each spec, configure
Database Cleaner to ignore those static tables.

Fixes #123
```

Note that we use [Overcommit] to enforce some of the commit message rules.
If this is your first time contributing to this repo, you will need to
sign your Overcommit configuration by running `overcommit --sign` before
being able to run `git commit`. See the [Security] section in the Overcommit
README for more details.

[Overcommit]: https://github.com/brigade/overcommit
[Security]: https://github.com/brigade/overcommit#security

### Additional notes on pull requests and code reviews

- Prioritize code reviews above your other work
- Review pull requests within 24 hours of being opened
- Keep pull requests as small as possible, and focused on a single topic
- Once a pull request is good to go, the code reviewer is the one who merges
  it, then deletes the branch.

## Front end architecture
### CSS
- The front end will use the Web Design Standard's components, imported through ruby, adding extra functionality that's missing.
- Atomic CSS methodolgy will be used for layout, modifier classes.
  - If a group of atomic classes is used more then once in a repeated pattern, separate it into it's own component
  - Design atomtic classes to ensure that HTML classes don't have to be changed in more then one place with a design change.
- Will update CSS libraries (such as the WDS) on a bi-monthly basis or more immediately if a feature is added that's needed.
- Will use `js-`* prefixed classes for JavaScript hooks.
- Will use `test-`* prefixed classes for testing hooks, mainly integration testing.
- Uses the [18f linting config](https://raw.githubusercontent.com/18F/frontend/18f-pages-staging/.scss-lint.yml) for scss linting.
- Use `scss-lint` which runs on the latest PR commits.
- CodeClimate will notify on a PR on Github if there are any linting infractions.
- The root font size should always be set to 100% by default and 1.4% when on mobile.
- Always default to semantic HTML.

### JavaScript
- The site should work without JavaScript because there is no need for complex user interactions that would use JS.
- The site should not require jQuery.
- Should use the AirBnB linter configuration for JavaScript.
- CodeClimate will notify on a PR on Github if there are any linting infractions.
- All front end dependencies should be expressed in `package.json`.
- Many of the dependencies for the app are in the `Gemfile` since it is a Rails app.
- Front end dependencies will be upgraded when a vurlnability is found.
- Just one JavaScript file will be bundled up and sent to the client

#### Testing
- Integration tests should always be running.
- Whenever new functionality is added, or when features are changed. If there isn’t already test coverage, then a test should be written.
- Attempt to keep everything unit tested, especially data related code. If you don’t want to do unit tests for DOM related coded, it’s fine to cover it with functional/integration tests
- Attempt to have your functional testing framework be robust and able to run tests consistently. Attempt to remove any random failure possibilities. If you can do this successfully, a new functional test should be written for every new feature.
- If you’re having problems with you functional testing framework being consistent (random failures, fragile tests that always break) consider not adding new tests and disabling broken tests after ~10 minutes of attempting to fix them to ensure the team can move quickly and without too much frustration.

### Devices
- Dependending on current analytics, a browser will be supported unless less then 1% of users are on said browser.
- The site should work on any device size, but very large screens will not be a primary focus.
- Accessibility HTML code sniffer should be run before any PRs that could change accessibility.


## Public domain

This project is in the public domain within the United States, and
copyright and related rights in the work worldwide are waived through
the [CC0 1.0 Universal public domain dedication][CC0].

All contributions to this project will be released under the CC0
dedication. By submitting a pull request, you are agreeing to comply
with this waiver of copyright interest.

[CC0]: https://creativecommons.org/publicdomain/zero/1.0/
